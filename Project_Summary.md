# 한국 부동산 시장 분석 및 투자 전략 수립


## 공통 데이터 기준

-   지역 단위: 서울시 25개 자치구.
-   기간: 월단위 집계. 최소 10년 확보 권장.
-   단가: 실거래가/전용면적(㎡) → `price_per_sqm`.
-   거래밀도: 월별 거래건수 / 해당 구 아파트 수(또는 인구) → 기준 명시.
-   물가 보정 선택: CPI로 실질가격 산출 옵션.
-   결측·이상치: 면적 10㎡ 미만, 500㎡ 초과, 극단단가 IQR 밖 1.5배 제거
    또는 윈저라이즈.

## 과제별 방법론·산출물

### 과제 1: 인기구 vs 비인기구 비교

-   선정 기준:
    -   최근 12개월 누적 거래액 기준 상위 3개구 = 인기구.
    -   동일 기간 하위 3개구 = 비인기구.
    -   동률 시 거래건수로 타이브레이크.
-   핵심 지표:
    -   평균 거래가, `price_per_sqm`, 변동성(월수익률 표준편차),
        거래밀도.
    -   추세: 12개월 이동평균, 변동성: 12개월 이동표준편차.
-   시각화:
    -   추세선(인기구 vs 비인기구 평균), 리본으로 ±1표준오차.
    -   박스플롯 또는 바이올린(구별 분포).
    -   히트맵(구×월 수익률).
-   산출물:
    -   테이블: 상·하위구 선정표, 핵심지표 요약.
    -   그림: `figs/task1_trend.png`, `figs/task1_volatility.png`.

### 과제 2: 규모별 트렌드·생애주기 전략

-   규모 분류(전용면적):
    -   소형: \< 60㎡
    -   중형: 60--85㎡
    -   대형: \> 85㎡
    -   필요 시 135㎡ 초대형 추가.
-   분석:
    -   규모별 월별 `price_per_sqm`와 수익률 추이.
    -   사이클 동조화(상관, 위상차), 회복속도(하락→전고점 도달 기간).
-   전략 프레임:
    -   20\~30대: 소형 위주, 변동성 대비 기대수익, LTV 민감도 시나리오.
    -   40\~50대: 중형 중심, 업그레이드 타이밍 규칙(이동평균 골든크로스
        등).
    -   60대+: 대형→중형/소형 다운사이징, 현금흐름 극대화 규칙.
-   시각화:
    -   규모별 인덱스(=2018-01=100) 라인, 드로우다운 차트.

### 과제 3: 거래량 → 가격 선행성

-   기법:
    -   교차상관함수(CCF)로 최적 시차 k 탐색.
    -   Granger causality, VAR(또는 ARIMAX)로 유의성 검정.
    -   변곡점 탐지: BOCPD 또는 `ruptures`(Pelt/L2)로 체인지포인트.
-   지표 설계:
    -   "Volume Lead Signal" = 표준화 거래량 MoM를 k개월 시프트.
    -   신호가 임계치 초과 후 t개월 내 수익률이 θ% 초과하는 비율.
-   평가:
    -   롤링 아웃오브샘플(예: 확장창) 정밀도/재현율, 히트맵.

### 자유주제: 금리·정책 이벤트 스터디

-   금리: 기준금리, 코픽스(신규/잔액), 국채 3·5·10년 수익률.
-   방법:
    -   금리 변화율 ↔ 거래량·가격 수익률 상관/탄력도(단변량, 다변량).
    -   이벤트 스터디: 정책 발표일 ±6개월 창에서 평균 누적수익률(CAR)과
        거래량 변화.
    -   구조적 단절(Chow, Bai--Perron)로 제도 변화 검정.
-   시각화:
    -   누적수익률 이벤트패스, 다중축 금리·거래량 라인.

## 전처리 파이프라인

1.  로드: 실거래가 원천 → 컬럼 표준화(`sigungu`, `dong`, `date`,
    `exclusive_area`, `price` 등).
2.  필터: 서울만, 아파트만, 거래유형 필터.
3.  파생:
    -   `price_per_sqm = price / exclusive_area`
    -   월 집계: 평균가, 중위가, 거래건수, 거래액.
    -   면적 구간 라벨링.
4.  디플레이트 옵션: CPI로 실질가.
5.  이상치 처리 후 저장: `processed/transactions_monthly.parquet`.

## 지표·함수 규격(예시)

-   수익률: `ret_t = ln(price_index_t / price_index_{t-1})`.
-   변동성: `rolling_std(ret, window=12)`.
-   거래량 MoM: `(vol_t / vol_{t-1} - 1)`.
-   인기/비인기 선정 함수: 입력=월별 구단위 테이블, 출력=상·하위
    리스트와 마스크.

## 각 노트북 핵심 셀 체크리스트

-   0: 설정(경로, 시드), 데이터 로드.
-   1: 정제·집계.
-   2: 지표 계산.
-   3: 검정·모형.
-   4: 시각화·테이블 저장.
-   5: 결론·실무 인사이트 3줄 요약.
